/**
 * 
 */

/**
 * @author usuario
 *
 */
public class Colegio {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Alumno alumnos []=new Alumno [20];
		Asignatura asignaturas []=new Asignatura [20];
		baseDatos(alumnos, asignaturas);
		Integer opcion=10;
		Leer.mensaje("Que dia es hoy?");
		Integer dia=Leer.pedirEntero("Dia");
		Integer mes=Leer.pedirEntero("Mes");
		Integer anio=Leer.pedirEntero("Año");
		Fecha fechaHoy=new Fecha(dia, mes, anio);
		
		while (opcion!=0) {
			Leer.mensaje("1. Crear Asignatura");
			Leer.mensaje("2. Crear Alumno");
			Leer.mensaje("3. Asignar Asignaturas a Alumnos");
			Leer.mensaje("4. Modificar Alumno");
			Leer.mensaje("5. Boletin");
			Leer.mensaje("0. Salir");
			opcion=Leer.pedirEntero("");
			menu(opcion, fechaHoy, alumnos,asignaturas);
		}	
		
	}
	public static void menu(Integer opcion, Fecha fechaHoy, Alumno[] alumnos, Asignatura[] asignaturas){
		switch (opcion) {
		case 1:
			creacionAsignatura(asignaturas);
			break;
		case 2:
			creacionAlumno(alumnos);
			break;
		case 3:
			Integer contador=0;
			Leer.mensaje("A que alumno desea añadir una asignatura?");
			for (int i = 0; i < alumnos.length; i++) {
				if (alumnos[i]==null) {
					break;
				}
				Leer.mensaje(i+1+". "+alumnos[i].getNombre());
				contador=i;
			}
			Integer alumno=Leer.pedirEntero("");
			while (alumno>contador) {
				alumno=Leer.pedirEntero("Alumno inexistente, porfavor introduzca un numero correcto");
			}
			Leer.mensaje("Que asignatura desea añadirle?");
			for (int i = 0; i < asignaturas.length; i++) {
				if (asignaturas[i]==null) {
					break;
				}
				Leer.mensaje(i+1+". "+asignaturas[i].getNombre());
			}
			Integer asignatura=Leer.pedirEntero("");
			
			alumnos[alumno].añadirasignaturas(asignaturas[asignatura]);
			break;
		case 4:
			
			break;
		case 5:
			for (int i = 0; i < alumnos.length; i++) {
				if (alumnos[i]==null) {
					break;
				}
				Leer.mensaje(alumnos[i].boletin(fechaHoy));
			}
			break;
		default:
			break;
		}
		
	}

	private static void creacionAsignatura(Asignatura[] asignatura) {
		String nombreAS=Leer.pedirCadena("Nombre de la asignatura");
		Integer horas=Leer.pedirEntero("Horas de la asignatura por semana");
		String curso=Leer.pedirCadena("A que curso corresponde la asignatura");
		
		for (int i = 0; i < asignatura.length; i++) {
			if (asignatura[i]==null) {
				asignatura[i]=new Asignatura(horas,curso.charAt(0), nombreAS);
				break;
			}
		}
	}
	
	private static void creacionAlumno(Alumno[] alumnos) {
		String nombreAL=Leer.pedirCadena("Cual es el nombre del alumno?");
		Leer.mensaje("Cual es su fecha de nacimiento?");
		Integer dia=Leer.pedirEntero("Dia");
		Integer mes=Leer.pedirEntero("Mes");
		Integer año=Leer.pedirEntero("Año");
		Fecha fechaNac=new Fecha(dia, mes, año);
		for (int i = 0; i < alumnos.length; i++) {
			if (alumnos[i]==null) {
				alumnos[i]=new Alumno(nombreAL, fechaNac);
				break;
			}
		}
	}
	
	public static void baseDatos(Alumno [] alumno, Asignatura [] asignatura){
		for (int i = 0; i < 3; i++) {
			Fecha fechaNac=new Fecha((15+i),(5+i),(i+1999));
			alumno[i]=new Alumno("Alumno "+(i+1), fechaNac);
		}
		for (int i = 1; i < 4; i++) {
			char nivel=1;
			asignatura[i]=new Asignatura(10,nivel, "Asignatura "+i);
		}
		for (int i = 4; i < 7; i++) {
			char nivel=2;
			asignatura[i]=new Asignatura(10,nivel, "Asignatura "+i);
		}
		for (int i = 0; i < 3; i++) {
			for (int j = 0; j < 4; j++) {
				alumno[i].añadirasignaturas(asignatura[j]);
				alumno[i].introducirNota((int)(Math.random()*9)+1, asignatura[j]);
			}				
		}
	}
}
